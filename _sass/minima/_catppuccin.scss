// ============================================
// CATPPUCCIN COLOR PALETTE
// https://github.com/catppuccin/catppuccin
// ============================================

// Latte (Light Theme)
$ctp-latte-rosewater: #dc8a78;
$ctp-latte-flamingo: #dd7878;
$ctp-latte-pink: #ea76cb;
$ctp-latte-mauve: #8839ef;
$ctp-latte-red: #d20f39;
$ctp-latte-maroon: #e64553;
$ctp-latte-peach: #fe640b;
$ctp-latte-yellow: #df8e1d;
$ctp-latte-green: #40a02b;
$ctp-latte-teal: #179299;
$ctp-latte-sky: #04a5e5;
$ctp-latte-sapphire: #209fb5;
$ctp-latte-blue: #1e66f5;
$ctp-latte-lavender: #7287fd;
$ctp-latte-text: #4c4f69;
$ctp-latte-subtext1: #5c5f77;
$ctp-latte-subtext0: #6c6f85;
$ctp-latte-overlay2: #7c7f93;
$ctp-latte-overlay1: #8c8fa1;
$ctp-latte-overlay0: #9ca0b0;
$ctp-latte-surface2: #acb0be;
$ctp-latte-surface1: #bcc0cc;
$ctp-latte-surface0: #ccd0da;
$ctp-latte-base: #eff1f5;
$ctp-latte-mantle: #e6e9ef;
$ctp-latte-crust: #dce0e8;

// Mocha (Dark Theme)
$ctp-mocha-rosewater: #f5e0dc;
$ctp-mocha-flamingo: #f2cdcd;
$ctp-mocha-pink: #f5c2e7;
$ctp-mocha-mauve: #cba6f7;
$ctp-mocha-red: #f38ba8;
$ctp-mocha-maroon: #eba0ac;
$ctp-mocha-peach: #fab387;
$ctp-mocha-yellow: #f9e2af;
$ctp-mocha-green: #a6e3a1;
$ctp-mocha-teal: #94e2d5;
$ctp-mocha-sky: #89dceb;
$ctp-mocha-sapphire: #74c7ec;
$ctp-mocha-blue: #89b4fa;
$ctp-mocha-lavender: #b4befe;
$ctp-mocha-text: #cdd6f4;
$ctp-mocha-subtext1: #bac2de;
$ctp-mocha-subtext0: #a6adc8;
$ctp-mocha-overlay2: #9399b2;
$ctp-mocha-overlay1: #7f849c;
$ctp-mocha-overlay0: #6c7086;
$ctp-mocha-surface2: #585b70;
$ctp-mocha-surface1: #45475a;
$ctp-mocha-surface0: #313244;
$ctp-mocha-base: #1e1e2e;
$ctp-mocha-mantle: #181825;
$ctp-mocha-crust: #11111b;

// ============================================
// CSS CUSTOM PROPERTIES (Light Mode - Default)
// ============================================
:root {
  // Base colors
  --ctp-base: #{$ctp-latte-base};
  --ctp-mantle: #{$ctp-latte-mantle};
  --ctp-crust: #{$ctp-latte-crust};

  // Text colors
  --ctp-text: #{$ctp-latte-text};
  --ctp-subtext1: #{$ctp-latte-subtext1};
  --ctp-subtext0: #{$ctp-latte-subtext0};

  // Overlay/Surface colors
  --ctp-overlay2: #{$ctp-latte-overlay2};
  --ctp-overlay1: #{$ctp-latte-overlay1};
  --ctp-overlay0: #{$ctp-latte-overlay0};
  --ctp-surface2: #{$ctp-latte-surface2};
  --ctp-surface1: #{$ctp-latte-surface1};
  --ctp-surface0: #{$ctp-latte-surface0};

  // Accent colors
  --ctp-rosewater: #{$ctp-latte-rosewater};
  --ctp-flamingo: #{$ctp-latte-flamingo};
  --ctp-pink: #{$ctp-latte-pink};
  --ctp-mauve: #{$ctp-latte-mauve};
  --ctp-red: #{$ctp-latte-red};
  --ctp-maroon: #{$ctp-latte-maroon};
  --ctp-peach: #{$ctp-latte-peach};
  --ctp-yellow: #{$ctp-latte-yellow};
  --ctp-green: #{$ctp-latte-green};
  --ctp-teal: #{$ctp-latte-teal};
  --ctp-sky: #{$ctp-latte-sky};
  --ctp-sapphire: #{$ctp-latte-sapphire};
  --ctp-blue: #{$ctp-latte-blue};
  --ctp-lavender: #{$ctp-latte-lavender};

  // Semantic mappings
  --color-bg: var(--ctp-base);
  --color-bg-secondary: var(--ctp-mantle);
  --color-bg-tertiary: var(--ctp-crust);
  --color-text: var(--ctp-text);
  --color-text-light: var(--ctp-subtext1);
  --color-text-lighter: var(--ctp-subtext0);
  --color-border: var(--ctp-surface0);
  --color-primary: var(--ctp-blue);
  --color-primary-dark: var(--ctp-sapphire);
  --color-link: var(--ctp-blue);
  --color-link-hover: var(--ctp-sapphire);
  --color-accent: var(--ctp-mauve);
  --color-success: var(--ctp-green);
  --color-warning: var(--ctp-yellow);
  --color-error: var(--ctp-red);

  // Category colors (mapped to Catppuccin)
  --color-software: var(--ctp-blue);
  --color-android: var(--ctp-green);
  --color-talks: var(--ctp-red);
  --color-flying: var(--ctp-sky);
  --color-career: var(--ctp-mauve);
  --color-sports: var(--ctp-peach);
  --color-personal: var(--ctp-pink);

  // Pico CSS variable overrides (Light - Latte)
  --pico-background-color: #{$ctp-latte-base};
  --pico-color: #{$ctp-latte-text};
  --pico-muted-color: #{$ctp-latte-subtext0};
  --pico-muted-border-color: #{$ctp-latte-surface0};
  --pico-primary: #{$ctp-latte-blue};
  --pico-primary-hover: #{$ctp-latte-sapphire};
  --pico-primary-focus: #{rgba($ctp-latte-blue, 0.25)};
  --pico-primary-inverse: #{$ctp-latte-base};
  --pico-secondary: #{$ctp-latte-mauve};
  --pico-secondary-hover: #{$ctp-latte-lavender};
  --pico-contrast: #{$ctp-latte-text};
  --pico-contrast-inverse: #{$ctp-latte-base};
  --pico-card-background-color: #{$ctp-latte-mantle};
  --pico-card-sectioning-background-color: #{$ctp-latte-crust};
  --pico-code-background-color: #{$ctp-latte-mantle};
  --pico-code-color: #{$ctp-latte-text};
  --pico-blockquote-border-color: #{$ctp-latte-mauve};
  --pico-table-border-color: #{$ctp-latte-surface0};
  --pico-form-element-background-color: #{$ctp-latte-mantle};
  --pico-form-element-border-color: #{$ctp-latte-surface1};
  --pico-form-element-focus-color: #{$ctp-latte-blue};
  --pico-switch-background-color: #{$ctp-latte-surface1};
  --pico-switch-checked-background-color: #{$ctp-latte-blue};
  --pico-del-color: #{$ctp-latte-red};
  --pico-ins-color: #{$ctp-latte-green};
  --pico-mark-background-color: #{$ctp-latte-yellow};
  --pico-mark-color: #{$ctp-latte-crust};
}

// ============================================
// DARK MODE (Mocha)
// ============================================
[data-theme="dark"] {
  // Base colors
  --ctp-base: #{$ctp-mocha-base};
  --ctp-mantle: #{$ctp-mocha-mantle};
  --ctp-crust: #{$ctp-mocha-crust};

  // Text colors
  --ctp-text: #{$ctp-mocha-text};
  --ctp-subtext1: #{$ctp-mocha-subtext1};
  --ctp-subtext0: #{$ctp-mocha-subtext0};

  // Overlay/Surface colors
  --ctp-overlay2: #{$ctp-mocha-overlay2};
  --ctp-overlay1: #{$ctp-mocha-overlay1};
  --ctp-overlay0: #{$ctp-mocha-overlay0};
  --ctp-surface2: #{$ctp-mocha-surface2};
  --ctp-surface1: #{$ctp-mocha-surface1};
  --ctp-surface0: #{$ctp-mocha-surface0};

  // Accent colors
  --ctp-rosewater: #{$ctp-mocha-rosewater};
  --ctp-flamingo: #{$ctp-mocha-flamingo};
  --ctp-pink: #{$ctp-mocha-pink};
  --ctp-mauve: #{$ctp-mocha-mauve};
  --ctp-red: #{$ctp-mocha-red};
  --ctp-maroon: #{$ctp-mocha-maroon};
  --ctp-peach: #{$ctp-mocha-peach};
  --ctp-yellow: #{$ctp-mocha-yellow};
  --ctp-green: #{$ctp-mocha-green};
  --ctp-teal: #{$ctp-mocha-teal};
  --ctp-sky: #{$ctp-mocha-sky};
  --ctp-sapphire: #{$ctp-mocha-sapphire};
  --ctp-blue: #{$ctp-mocha-blue};
  --ctp-lavender: #{$ctp-mocha-lavender};

  // Pico CSS variable overrides (Dark - Mocha)
  --pico-background-color: #{$ctp-mocha-base};
  --pico-color: #{$ctp-mocha-text};
  --pico-muted-color: #{$ctp-mocha-subtext0};
  --pico-muted-border-color: #{$ctp-mocha-surface0};
  --pico-primary: #{$ctp-mocha-blue};
  --pico-primary-hover: #{$ctp-mocha-sapphire};
  --pico-primary-focus: #{rgba($ctp-mocha-blue, 0.25)};
  --pico-primary-inverse: #{$ctp-mocha-crust};
  --pico-secondary: #{$ctp-mocha-mauve};
  --pico-secondary-hover: #{$ctp-mocha-lavender};
  --pico-contrast: #{$ctp-mocha-text};
  --pico-contrast-inverse: #{$ctp-mocha-base};
  --pico-card-background-color: #{$ctp-mocha-mantle};
  --pico-card-sectioning-background-color: #{$ctp-mocha-crust};
  --pico-code-background-color: #{$ctp-mocha-mantle};
  --pico-code-color: #{$ctp-mocha-text};
  --pico-blockquote-border-color: #{$ctp-mocha-mauve};
  --pico-table-border-color: #{$ctp-mocha-surface0};
  --pico-form-element-background-color: #{$ctp-mocha-mantle};
  --pico-form-element-border-color: #{$ctp-mocha-surface1};
  --pico-form-element-focus-color: #{$ctp-mocha-blue};
  --pico-switch-background-color: #{$ctp-mocha-surface1};
  --pico-switch-checked-background-color: #{$ctp-mocha-blue};
  --pico-del-color: #{$ctp-mocha-red};
  --pico-ins-color: #{$ctp-mocha-green};
  --pico-mark-background-color: #{$ctp-mocha-yellow};
  --pico-mark-color: #{$ctp-mocha-crust};
}

// ============================================
// SYSTEM PREFERENCE SUPPORT
// ============================================
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    // Base colors
    --ctp-base: #{$ctp-mocha-base};
    --ctp-mantle: #{$ctp-mocha-mantle};
    --ctp-crust: #{$ctp-mocha-crust};

    // Text colors
    --ctp-text: #{$ctp-mocha-text};
    --ctp-subtext1: #{$ctp-mocha-subtext1};
    --ctp-subtext0: #{$ctp-mocha-subtext0};

    // Overlay/Surface colors
    --ctp-overlay2: #{$ctp-mocha-overlay2};
    --ctp-overlay1: #{$ctp-mocha-overlay1};
    --ctp-overlay0: #{$ctp-mocha-overlay0};
    --ctp-surface2: #{$ctp-mocha-surface2};
    --ctp-surface1: #{$ctp-mocha-surface1};
    --ctp-surface0: #{$ctp-mocha-surface0};

    // Accent colors
    --ctp-rosewater: #{$ctp-mocha-rosewater};
    --ctp-flamingo: #{$ctp-mocha-flamingo};
    --ctp-pink: #{$ctp-mocha-pink};
    --ctp-mauve: #{$ctp-mocha-mauve};
    --ctp-red: #{$ctp-mocha-red};
    --ctp-maroon: #{$ctp-mocha-maroon};
    --ctp-peach: #{$ctp-mocha-peach};
    --ctp-yellow: #{$ctp-mocha-yellow};
    --ctp-green: #{$ctp-mocha-green};
    --ctp-teal: #{$ctp-mocha-teal};
    --ctp-sky: #{$ctp-mocha-sky};
    --ctp-sapphire: #{$ctp-mocha-sapphire};
    --ctp-blue: #{$ctp-mocha-blue};
    --ctp-lavender: #{$ctp-mocha-lavender};

    // Pico CSS variable overrides (Dark - Mocha)
    --pico-background-color: #{$ctp-mocha-base};
    --pico-color: #{$ctp-mocha-text};
    --pico-muted-color: #{$ctp-mocha-subtext0};
    --pico-muted-border-color: #{$ctp-mocha-surface0};
    --pico-primary: #{$ctp-mocha-blue};
    --pico-primary-hover: #{$ctp-mocha-sapphire};
    --pico-primary-focus: #{rgba($ctp-mocha-blue, 0.25)};
    --pico-primary-inverse: #{$ctp-mocha-crust};
    --pico-secondary: #{$ctp-mocha-mauve};
    --pico-secondary-hover: #{$ctp-mocha-lavender};
    --pico-contrast: #{$ctp-mocha-text};
    --pico-contrast-inverse: #{$ctp-mocha-base};
    --pico-card-background-color: #{$ctp-mocha-mantle};
    --pico-card-sectioning-background-color: #{$ctp-mocha-crust};
    --pico-code-background-color: #{$ctp-mocha-mantle};
    --pico-code-color: #{$ctp-mocha-text};
    --pico-blockquote-border-color: #{$ctp-mocha-mauve};
    --pico-table-border-color: #{$ctp-mocha-surface0};
    --pico-form-element-background-color: #{$ctp-mocha-mantle};
    --pico-form-element-border-color: #{$ctp-mocha-surface1};
    --pico-form-element-focus-color: #{$ctp-mocha-blue};
    --pico-switch-background-color: #{$ctp-mocha-surface1};
    --pico-switch-checked-background-color: #{$ctp-mocha-blue};
    --pico-del-color: #{$ctp-mocha-red};
    --pico-ins-color: #{$ctp-mocha-green};
    --pico-mark-background-color: #{$ctp-mocha-yellow};
    --pico-mark-color: #{$ctp-mocha-crust};
  }
}

// ============================================
// APPLY THEME TO ELEMENTS
// ============================================
body {
  background-color: var(--color-bg) !important;
  color: var(--color-text) !important;
  transition: background-color 0.3s ease, color 0.3s ease;
}

html {
  background-color: var(--color-bg) !important;
}

a {
  color: var(--color-link);

  &:hover {
    color: var(--color-link-hover);
  }
}

// Main content area
.page-content {
  background-color: var(--color-bg) !important;
}

.wrapper {
  background-color: transparent !important;
}

// Site header
.site-header {
  background-color: var(--color-bg) !important;
  border-top-color: var(--ctp-mauve);
  border-bottom-color: var(--color-border);
}

.site-title {
  color: var(--ctp-text) !important;

  &:hover {
    color: var(--ctp-blue) !important;
  }
}

.page-link {
  color: var(--ctp-text) !important;

  &:hover {
    color: var(--ctp-blue) !important;
  }
}

// Ensure nav trigger label is visible
.site-nav .nav-trigger ~ label[for="nav-trigger"] {
  color: var(--ctp-text) !important;
}

// Code blocks
code {
  background-color: var(--ctp-surface0);
  color: var(--color-text);
}

pre {
  background-color: var(--ctp-mantle);
  border-color: var(--color-border);

  code {
    background-color: transparent;
  }
}

// Blockquotes
blockquote {
  border-left-color: var(--ctp-mauve);
  color: var(--color-text-light);
}

// Footer
.site-footer {
  background-color: var(--color-bg-secondary);
  border-top-color: var(--color-border);
}

// Post meta
.post-meta {
  color: var(--color-text-lighter);
}

// Headings
h1, h2, h3, h4, h5, h6,
.site-title,
.post-title {
  color: var(--color-text);
}

// Theme toggle button
.theme-toggle {
  background: none;
  border: none;
  cursor: pointer;
  padding: 0.5rem;
  color: var(--color-text);
  font-size: 1.25rem;
  line-height: 1;
  transition: color 0.2s ease;

  &:hover {
    color: var(--color-link);
  }
}

// Navigation menu icon (for mobile)
.nav-trigger ~ .menu-icon {
  path {
    fill: var(--color-text);
  }
}

// Mobile navigation dropdown
.site-nav {
  background-color: var(--color-bg) !important;
  border-color: var(--color-border) !important;

  .trigger {
    background-color: var(--color-bg) !important;
  }
}

// Post list
.post-list-item,
.post-list > li {
  background-color: transparent !important;
}

// Social media list - remove bullets
.social-media-list {
  list-style: none !important;
  padding: 0 !important;
  margin: 0 !important;
  display: flex;
  gap: 0.5rem;
  justify-content: center;

  li {
    list-style: none !important;
    margin: 0 !important;
    padding: 0 !important;

    &::before {
      content: none !important;
    }

    &::marker {
      content: none !important;
    }
  }

  a {
    padding: 0.25rem !important;
  }
}

// Fix Pico's abbr/title styling that shows text
[title] {
  border-bottom: none !important;
  text-decoration: none !important;
  cursor: pointer;
}

// Hide Pico's focus labels / link text display
a[rel="me"]::before,
a[rel="me"]::after,
.social-media-list a::before,
.social-media-list a::after {
  content: none !important;
  display: none !important;
}

// Ensure SVG icons display properly
.svg-icon {
  display: inline-block;
  width: 1.5rem;
  height: 1.5rem;
  vertical-align: middle;
}

// Social links container in footer
.social-links {
  display: flex;
  justify-content: center;
  padding: 0 !important;
  margin: 0 !important;
}

// Footer spacing
.site-footer {
  padding-top: 1rem !important;
  padding-bottom: 1rem !important;

  .wrapper {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
  }

  .footer-col-wrapper {
    margin: 0 !important;
    padding: 0 !important;
  }
}
